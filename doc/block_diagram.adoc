// vim:fileencoding=utf-8:ft=asciidoc:foldmethod=marker:foldmarker=//<,//>
include::attributes.adoc[]
= Block diagram

**Рисунок 1. Структурная схема мультиплексора APB4_MUX**

В состав блока входит:

.Блок-схема apb_mux
image::{BLOCK_PREF}img0.{IMGEXT}[]

**Блок управления (Control Logic)** — центральная управляющая часть, объединяющая функции арбитра, генератора управляющих сигналов и автоматов состояний. Формирует последовательность фаз APB-транзакции (SETUP и ACCESS), управляет мультиплексором и демультиплексором с помощью управляющих сигналов, синхронизирует передачу данных между мастерами и slave-устройством. 
**Арбитраж Round-Robin** работает по принципу циклического перебора: после завершения каждой транзакции приоритет сдвигается к следующему мастеру в очереди. Если текущий обслуживаемый мастер имеет номер N, то следующий приоритет получает мастер (N+1) mod M, где M - общее количество мастеров. Это гарантирует, что все мастера получают равный доступ к шине без блокировок.

**Мультиплексор/Демультиплексор (Multiplexer / Demultiplexer)**
- **Мультиплексор (MUX)** - передает данные (адрес, данные, управление) от выбранного мастера к slave-устройству. +
- **Демультиплексор (DMUX)** - распределяет ответные сигналы (данные, готовность, ошибка) от slave-устройства соответствующему мастеру. +

